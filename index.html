fix button:hover {
background-color: #0056b3;
}
  .error-message {
    color: red;
    margin-bottom: 20px;
    display: none;
  }
</style>
</head>
<body>
<div class="container">
<h1>Signup</h1>
    <form id="surveyForm">
    <form id="surveyForm" method="POST" novalidate>
      <div id="error" class="error-message"></div>

<label for="first_name">First Name</label>
<input type="text" id="first_name" name="first_name" required />

@@ -95,41 +102,57 @@ <h1>Signup</h1>
<input type="tel" id="phone_number" name="phone_number" required />

<label class="checkbox-label">
        <input type="checkbox" id="tos" required />
        <input type="checkbox" id="tos" name="tos" required />
I agree to the <a href="https://www.google.com" target="_blank" rel="noopener noreferrer">Terms of Service</a>
</label>

<button type="submit">Submit</button>
</form>
</div>

  <script>
    const form = document.getElementById('surveyForm');
<script>
  const form = document.getElementById('surveyForm');
  const errorDiv = document.getElementById('error');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    errorDiv.style.display = 'none';
    errorDiv.textContent = '';

      const formData = new FormData(form);
    // Basic validation check, just in case
    if (!form.checkValidity()) {
      errorDiv.textContent = 'Please fill all required fields correctly.';
      errorDiv.style.display = 'block';
      return;
    }

      // Add the TOS checkbox value so Formspree accepts it
      formData.append('tos', form.tos.checked ? 'agreed' : 'not agreed');
    // Collect form data
    const formData = new FormData(form);

      try {
        const response = await fetch('https://formspree.io/f/mjkrqadn', {
          method: 'POST',
          body: formData,
          headers: { 'Accept': 'application/json' }
        });
    try {
      const response = await fetch('https://formspree.io/f/mjkrqadn', {
        method: 'POST',
        headers: { 'Accept': 'application/json' },
        body: formData
      });

        if (response.ok) {
          window.location.href = 'thankyou.html';
      if (response.ok) {
        // Redirect on success
        window.location.href = 'thankyou.html';
      } else {
        const data = await response.json();
        if (data.errors) {
          errorDiv.textContent = data.errors.map(err => err.message).join(', ');
} else {
          alert('Submission failed. Please try again.');
          errorDiv.textContent = 'Oops! There was a problem submitting your form.';
}
      } catch (error) {
        alert('Submission failed. Please try again.');
        errorDiv.style.display = 'block';
}
    });
  </script>
    } catch (error) {
      errorDiv.textContent = 'Network error. Please try again later.';
      errorDiv.style.display = 'block';
    }
  });
</script>
</body>
</html>
